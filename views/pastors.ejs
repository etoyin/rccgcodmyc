<%- include ('partials/header.ejs'); %>
  <% %>
  <div>
    <h1 id="department_header" class="text-center">The Pastorate</h1>
    <div class="flex-container">
      <% data.filter((data) => {
        return data.name.search(/abioye/i) >= 0 
      }).sort((a, b) => {
        let aG = a.gender.toUpperCase();
        let bG = b.gender.toUpperCase();
        let comp = 0;
        comp = (aG > bG ? -1 : 1);
        return comp
      }).forEach((x, i) => {%>
        <div>
          <a href='/profile/<%=x.id%>'>
            <img src='<%=x.image_name.split(",")[0]%>' class="picp_img rounded-circle" />
            <h5><%= (x.gender === 'male' ? 'Pastor. '+ x.name : 'Pastor(Mrs). '+ x.name)%></h5>
            <h6><%= (x.gender === 'male' ? 'Pastor-In-Charge-of-Provice' : 'Wife of the PICP')%></h6>
          </a>
        </div>
      <%})%>
    </div>

    <div class="memberWithHiddenInput flex-container">
      <% data.filter((data) => {
        return data.name.search(/abioye/i) < 0  && data.status == 1;
      }).forEach((x, i) => {%>
        <div>
          <a href='/profile/<%=x.id%>'>
            <img src='<%=x.image_name.split(",")[0]%>' class="pastor_img rounded-circle" />
            <h5><%= (x.gender === 'male' ? 'Pastor. '+ x.name : 'Pastor(Mrs). '+ x.name)%></h5>
            <h6> Pastorate </h6>
          </a>
          <div class="status-switch" style="display: none">
            <input type="checkbox" data-id="<%=x.id%>" <%= (x.status==0)? "checked" : ""%> hidden="hidden" id="user<%=x.id%>">
            <label class="switch" for="user<%=x.id%>"></label>
          </div>
        </div>
      <%})%>
    </div>
    
    <%data.forEach((member, i) => {%>

    <%})%>
  </div>
  </div> 
</div>
</body>
</html>